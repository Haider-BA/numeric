<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>~/code/numeric/exam/Makefile.html</title>
<meta name="Generator" content="Vim/7.3">
<meta name="plugin-version" content="vim7.3_v10">
<meta name="syntax" content="make">
<meta name="settings" content="number_lines,use_css,pre_wrap,expand_tabs">
<style type="text/css">
<!--
pre { white-space: pre-wrap; font-family: monospace; color: #ffffff; background-color: #000000; }
body { font-family: monospace; color: #ffffff; background-color: #000000; }
.lnr { color: #ffff00; }
.Special { color: #ff40ff; }
.Constant { color: #ffff00; }
.Statement { color: #ffff00; }
.Identifier { color: #00ffff; }
.Comment { color: #00ffff; }
-->
</style>
</head>
<body>
<pre>
<span class="lnr">  1 </span><span class="Comment"># Define compiler</span>
<span class="lnr">  2 </span><span class="Comment">#CXX=g++</span>
<span class="lnr">  3 </span>
<span class="lnr">  4 </span><span class="Comment"># Define compiler flags (show all warnings)</span>
<span class="lnr">  5 </span><span class="Identifier">CXXFLAGS</span>=-Wall
<span class="lnr">  6 </span><span class="Comment">#CXXFLAGS=-std=c++0x</span>
<span class="lnr">  7 </span>
<span class="lnr">  8 </span><span class="Comment"># Define linker flags</span>
<span class="lnr">  9 </span><span class="Comment">#LDFLAGS=-fopenmp</span>
<span class="lnr"> 10 </span>
<span class="lnr"> 11 </span><span class="Comment"># Compile optimized code</span>
<span class="lnr"> 12 </span><span class="Identifier">CXXFLAGS</span>+=-O2
<span class="lnr"> 13 </span>
<span class="lnr"> 14 </span><span class="Comment"># Compile debuggable code</span>
<span class="lnr"> 15 </span><span class="Comment">#CXXFLAGS+=-g</span>
<span class="lnr"> 16 </span>
<span class="lnr"> 17 </span><span class="Comment"># Compile profilable code</span>
<span class="lnr"> 18 </span><span class="Comment">#CXXFLAGS+=-pg</span>
<span class="lnr"> 19 </span><span class="Comment">#LDFLAGS+=-pg</span>
<span class="lnr"> 20 </span>
<span class="lnr"> 21 </span><span class="Comment"># Define linker</span>
<span class="lnr"> 22 </span><span class="Identifier">LD</span>=g++
<span class="lnr"> 23 </span>
<span class="lnr"> 24 </span><span class="Comment"># All source code files</span>
<span class="lnr"> 25 </span><span class="Identifier">SRC</span>=<span class="Identifier">$(</span><span class="Statement">shell</span><span class="Identifier"> ls *.cpp)</span>
<span class="lnr"> 26 </span>
<span class="lnr"> 27 </span>
<span class="lnr"> 28 </span><span class="Comment"># Filenames of source code</span>
<span class="lnr"> 29 </span><span class="Identifier">SHARED_SRC</span>=ode.cpp check.cpp
<span class="lnr"> 30 </span><span class="Identifier">SHARED_HEADERS</span>=typedefs.h ode.h functions.h check.h
<span class="lnr"> 31 </span><span class="Identifier">SRC_A</span>=mainA.cpp <span class="Identifier">$(SHARED_SRC)</span>
<span class="lnr"> 32 </span><span class="Identifier">HEAD_A</span>=<span class="Identifier">$(SHARED_HEADERS)</span>
<span class="lnr"> 33 </span><span class="Identifier">SRC_B</span>=mainB.cpp <span class="Identifier">$(SHARED_SRC)</span>
<span class="lnr"> 34 </span><span class="Identifier">HEAD_B</span>=<span class="Identifier">$(SHARED_HEADERS)</span>
<span class="lnr"> 35 </span><span class="Identifier">SRC_C</span>=mainC.cpp <span class="Identifier">$(SHARED_SRC)</span>
<span class="lnr"> 36 </span><span class="Identifier">HEAD_C</span>=<span class="Identifier">$(SHARED_HEADERS)</span>
<span class="lnr"> 37 </span><span class="Identifier">SRC_D</span>=mainD.cpp <span class="Identifier">$(SHARED_SRC)</span>
<span class="lnr"> 38 </span><span class="Identifier">HEAD_D</span>=<span class="Identifier">$(SHARED_HEADERS)</span>
<span class="lnr"> 39 </span>
<span class="lnr"> 40 </span><span class="Comment"># Filenames of object files</span>
<span class="lnr"> 41 </span><span class="Identifier">OBJ_A</span>=<span class="Identifier">$(SRC_A:.cpp=.o)</span>
<span class="lnr"> 42 </span><span class="Identifier">OBJ_B</span>=<span class="Identifier">$(SRC_B:.cpp=.o)</span>
<span class="lnr"> 43 </span><span class="Identifier">OBJ_C</span>=<span class="Identifier">$(SRC_C:.cpp=.o)</span>
<span class="lnr"> 44 </span><span class="Identifier">OBJ_D</span>=<span class="Identifier">$(SRC_D:.cpp=.o)</span>
<span class="lnr"> 45 </span>
<span class="lnr"> 46 </span><span class="Comment"># Remove file type extension for binary filename</span>
<span class="lnr"> 47 </span><span class="Identifier">BIN_A</span>=odeA
<span class="lnr"> 48 </span><span class="Identifier">BIN_B</span>=odeB
<span class="lnr"> 49 </span><span class="Identifier">BIN_C</span>=odeC
<span class="lnr"> 50 </span><span class="Identifier">BIN_D</span>=odeD
<span class="lnr"> 51 </span>
<span class="lnr"> 52 </span><span class="Comment"># Define editor and options for `make edit`</span>
<span class="lnr"> 53 </span><span class="Identifier">EDITOR</span>=vim -p
<span class="lnr"> 54 </span>
<span class="lnr"> 55 </span>
<span class="lnr"> 56 </span><span class="Comment"># The default &quot;all&quot; depends on A and B</span>
<span class="lnr"> 57 </span><span class="Identifier">all:</span> A B C D
<span class="lnr"> 58 </span>
<span class="lnr"> 59 </span><span class="Identifier">A:</span>      plotA.png
<span class="lnr"> 60 </span>
<span class="lnr"> 61 </span><span class="Identifier">B:</span>      plotB.png
<span class="lnr"> 62 </span>
<span class="lnr"> 63 </span><span class="Identifier">C:</span>      plotC.png
<span class="lnr"> 64 </span>
<span class="lnr"> 65 </span><span class="Identifier">D:</span>      plotD.png
<span class="lnr"> 66 </span>
<span class="lnr"> 67 </span><span class="Identifier">plotA.png:</span> funcA.dat plotA.gp
<span class="lnr"> 68 </span><span class="Constant">        </span><span class="Comment"># Gnuplot: plotA.png</span>
<span class="lnr"> 69 </span><span class="Special">        @</span><span class="Constant">gnuplot plotA.gp</span>
<span class="lnr"> 70 </span>
<span class="lnr"> 71 </span><span class="Identifier">plotB.png:</span> funcB.dat plotB.gp
<span class="lnr"> 72 </span><span class="Constant">        </span><span class="Comment"># Gnuplot: plotB.png</span>
<span class="lnr"> 73 </span><span class="Special">        @</span><span class="Constant">gnuplot plotB.gp</span>
<span class="lnr"> 74 </span>
<span class="lnr"> 75 </span><span class="Identifier">plotC.png:</span> funcC.dat plotC.gp
<span class="lnr"> 76 </span><span class="Constant">        </span><span class="Comment"># Gnuplot: plotC.png</span>
<span class="lnr"> 77 </span><span class="Special">        @</span><span class="Constant">gnuplot plotC.gp</span>
<span class="lnr"> 78 </span>
<span class="lnr"> 79 </span><span class="Identifier">plotD.png:</span> funcD.dat plotD.gp
<span class="lnr"> 80 </span><span class="Constant">        </span><span class="Comment"># Gnuplot: plotD.png</span>
<span class="lnr"> 81 </span><span class="Special">        @</span><span class="Constant">gnuplot plotD.gp</span>
<span class="lnr"> 82 </span>
<span class="lnr"> 83 </span><span class="Identifier">funcA.dat:</span> <span class="Identifier">$(BIN_A)</span>
<span class="lnr"> 84 </span><span class="Special">        @</span><span class="Constant">./</span><span class="Identifier">$(BIN_A)</span>
<span class="lnr"> 85 </span><span class="Constant">        </span>
<span class="lnr"> 86 </span><span class="Identifier">funcB.dat:</span> <span class="Identifier">$(BIN_B)</span>
<span class="lnr"> 87 </span><span class="Special">        @</span><span class="Constant">./</span><span class="Identifier">$(BIN_B)</span>
<span class="lnr"> 88 </span>
<span class="lnr"> 89 </span><span class="Identifier">funcC.dat:</span> <span class="Identifier">$(BIN_C)</span>
<span class="lnr"> 90 </span><span class="Special">        @</span><span class="Constant">./</span><span class="Identifier">$(BIN_C)</span>
<span class="lnr"> 91 </span><span class="Constant">        </span>
<span class="lnr"> 92 </span><span class="Identifier">funcD.dat:</span> <span class="Identifier">$(BIN_D)</span>
<span class="lnr"> 93 </span><span class="Special">        @</span><span class="Constant">./</span><span class="Identifier">$(BIN_D)</span>
<span class="lnr"> 94 </span><span class="Constant">        </span>
<span class="lnr"> 95 </span><span class="Identifier">$(BIN_A):</span> <span class="Identifier">$(OBJ_A)</span> <span class="Identifier">$(HEAD_A)</span>
<span class="lnr"> 96 </span><span class="Special">        @</span><span class="Comment"># Link object files together</span>
<span class="lnr"> 97 </span><span class="Constant">        </span><span class="Identifier">$(LD)</span><span class="Constant"> </span><span class="Identifier">$(LDFLAGS)</span><span class="Constant"> </span><span class="Identifier">$(OBJ_A)</span><span class="Constant"> -o </span><span class="Identifier">$@</span><span class="Constant"> </span><span class="Identifier">$(LDLIBS)</span>
<span class="lnr"> 98 </span><span class="Constant">        </span>
<span class="lnr"> 99 </span><span class="Identifier">$(BIN_B):</span> <span class="Identifier">$(OBJ_B)</span> <span class="Identifier">$(HEAD_B)</span>
<span class="lnr">100 </span><span class="Special">        @</span><span class="Comment"># Link object files together</span>
<span class="lnr">101 </span><span class="Constant">        </span><span class="Identifier">$(LD)</span><span class="Constant"> </span><span class="Identifier">$(LDFLAGS)</span><span class="Constant"> </span><span class="Identifier">$(OBJ_B)</span><span class="Constant"> -o </span><span class="Identifier">$@</span><span class="Constant"> </span><span class="Identifier">$(LDLIBS)</span>
<span class="lnr">102 </span>
<span class="lnr">103 </span><span class="Identifier">$(BIN_C):</span> <span class="Identifier">$(OBJ_C)</span> <span class="Identifier">$(HEAD_C)</span>
<span class="lnr">104 </span><span class="Special">        @</span><span class="Comment"># Link object files together</span>
<span class="lnr">105 </span><span class="Constant">        </span><span class="Identifier">$(LD)</span><span class="Constant"> </span><span class="Identifier">$(LDFLAGS)</span><span class="Constant"> </span><span class="Identifier">$(OBJ_C)</span><span class="Constant"> -o </span><span class="Identifier">$@</span><span class="Constant"> </span><span class="Identifier">$(LDLIBS)</span>
<span class="lnr">106 </span>
<span class="lnr">107 </span><span class="Identifier">$(BIN_D):</span> <span class="Identifier">$(OBJ_D)</span> <span class="Identifier">$(HEAD_D)</span>
<span class="lnr">108 </span><span class="Special">        @</span><span class="Comment"># Link object files together</span>
<span class="lnr">109 </span><span class="Constant">        </span><span class="Identifier">$(LD)</span><span class="Constant"> </span><span class="Identifier">$(LDFLAGS)</span><span class="Constant"> </span><span class="Identifier">$(OBJ_D)</span><span class="Constant"> -o </span><span class="Identifier">$@</span><span class="Constant"> </span><span class="Identifier">$(LDLIBS)</span>
<span class="lnr">110 </span>
<span class="lnr">111 </span><span class="Identifier">clean:</span>  cleanA cleanB cleanC cleanD
<span class="lnr">112 </span>
<span class="lnr">113 </span><span class="Identifier">cleanA: </span>
<span class="lnr">114 </span><span class="Special">        @</span><span class="Comment"># Remove object files</span>
<span class="lnr">115 </span><span class="Constant">        rm -f </span><span class="Identifier">$(OBJ_A)</span><span class="Constant"> </span>
<span class="lnr">116 </span><span class="Special">        @</span><span class="Comment"># Remove binaries</span>
<span class="lnr">117 </span><span class="Constant">        rm -f </span><span class="Identifier">$(BIN_A)</span>
<span class="lnr">118 </span><span class="Special">        @</span><span class="Comment"># Remove datafiles and plot</span>
<span class="lnr">119 </span><span class="Constant">        rm -f funcA.dat plotA.png</span>
<span class="lnr">120 </span>
<span class="lnr">121 </span><span class="Identifier">cleanB: </span>
<span class="lnr">122 </span><span class="Special">        @</span><span class="Comment"># Remove object files</span>
<span class="lnr">123 </span><span class="Constant">        rm -f </span><span class="Identifier">$(OBJ_B)</span><span class="Constant"> </span>
<span class="lnr">124 </span><span class="Special">        @</span><span class="Comment"># Remove binaries</span>
<span class="lnr">125 </span><span class="Constant">        rm -f </span><span class="Identifier">$(BIN_B)</span>
<span class="lnr">126 </span><span class="Special">        @</span><span class="Comment"># Remove datafiles and plot</span>
<span class="lnr">127 </span><span class="Constant">        rm -f funcB.dat plotB.png</span>
<span class="lnr">128 </span>
<span class="lnr">129 </span><span class="Identifier">cleanC: </span>
<span class="lnr">130 </span><span class="Special">        @</span><span class="Comment"># Remove object files</span>
<span class="lnr">131 </span><span class="Constant">        rm -f </span><span class="Identifier">$(OBJ_C)</span><span class="Constant"> </span>
<span class="lnr">132 </span><span class="Special">        @</span><span class="Comment"># Remove binaries</span>
<span class="lnr">133 </span><span class="Constant">        rm -f </span><span class="Identifier">$(BIN_C)</span>
<span class="lnr">134 </span><span class="Special">        @</span><span class="Comment"># Remove datafiles and plot</span>
<span class="lnr">135 </span><span class="Constant">        rm -f funcC.dat plotC.png</span>
<span class="lnr">136 </span>
<span class="lnr">137 </span><span class="Identifier">cleanD: </span>
<span class="lnr">138 </span><span class="Special">        @</span><span class="Comment"># Remove object files</span>
<span class="lnr">139 </span><span class="Constant">        rm -f </span><span class="Identifier">$(OBJ_D)</span><span class="Constant"> </span>
<span class="lnr">140 </span><span class="Special">        @</span><span class="Comment"># Remove binaries</span>
<span class="lnr">141 </span><span class="Constant">        rm -f </span><span class="Identifier">$(BIN_D)</span>
<span class="lnr">142 </span><span class="Constant">        </span><span class="Comment"># Removing datafile and plot</span>
<span class="lnr">143 </span><span class="Special">        @</span><span class="Constant">rm -f funcD.dat plotD.png</span>
<span class="lnr">144 </span>
<span class="lnr">145 </span><span class="Identifier">htmlfiles:</span> html/mainA.cpp.html html/mainB.cpp.html html/mainC.cpp.html html/mainD.cpp.html html/ode.cpp.html html/check.cpp.html html/check.h.html html/functions.h.html html/ode.h.html html/typedefs.h.html html/vector_arithmetic.h.html html/plotA.gp.html html/plotB.gp.html html/plotC.gp.html html/plotD.gp.html html/Makefile.html
<span class="lnr">146 </span><span class="Constant">        </span><span class="Comment"># Generating HTML files</span>
<span class="lnr">147 </span><span class="Constant">        rst2html2 README.rst &gt; html/README.html</span>
<span class="lnr">148 </span>
<span class="lnr">149 </span><span class="Identifier">html/%.html:</span> <span class="Identifier">%</span>
<span class="lnr">150 </span><span class="Constant">        vim </span><span class="Identifier">$&lt;</span><span class="Constant"> +TOhtml +</span><span class="Constant">&quot;w </span><span class="Identifier">$@</span><span class="Constant">&quot;</span><span class="Constant"> +</span><span class="Constant">&quot;qall!&quot;</span>
<span class="lnr">151 </span>
<span class="lnr">152 </span>
<span class="lnr">153 </span><span class="Identifier">edit:</span>
<span class="lnr">154 </span><span class="Special">        @</span><span class="Identifier">$(EDITOR)</span><span class="Constant"> Makefile README.rst *.cpp *.h *.gp</span>
<span class="lnr">155 </span>
</pre>
</body>
</html>
